# Data Directory

## Overview

This directory contains the LendingClub peer-to-peer loan datasets used in this analysis. Due to file size constraints and licensing, the raw data files are not included in this repository but can be downloaded from the archived sources.

## Required Datasets

### LoanStats3d.csv (2014 Loans)
- **Source:** 
(https://web.archive.org/web/20230522033024/https://resources.lendingclub.com/LoanStats3d.csv.zip)
- **Description:** Contains all loans issued by LendingClub during 2014
- **Size:** ~300MB (uncompressed)
- **Records:** ~235,000 loans
- **Usage:** Training dataset for model development

### LoanStats3c.csv (2015 Loans)
- **Source:** [Wayback Machine Archive](https://web.archive.org/web/20220618001912/https://resources.lendingclub.com/LoanStats3c.csv.zip)
- **Description:** Contains all loans issued by LendingClub during 2015
- **Size:** ~250MB (uncompressed)
- **Records:** ~421,000 loans
- **Usage:** Test dataset for model validation

### Data Dictionary
- **Source:** [LendingClub Data Dictionary](https://web.archive.org/web/20200606105339/https://resources.lendingclub.com/LCDataDictionary.xlsx)
- **Description:** Definitions and explanations for all variables in the datasets
- **Format:** Excel (.xlsx)

## Directory Structure

```
data/
├── raw/                    # Place downloaded datasets here
│   ├── LoanStats3d.csv
│   ├── LoanStats3c.csv
│   └── LCDataDictionary.xlsx
├── processed/              # Processed datasets (generated by notebooks)
│   └── .gitkeep
└── README.md              # This file
```

## How to Download the Data

1. **Download LoanStats3d.csv:**
   ```bash
   wget https://web.archive.org/web/20230522033024/https://resources.lendingclub.com/LoanStats3d.csv.zip
   unzip LoanStats3d.csv.zip -d data/raw/
   ```

2. **Download LoanStats3c.csv:**
   ```bash
   wget https://web.archive.org/web/20220618001912/https://resources.lendingclub.com/LoanStats3c.csv.zip
   unzip LoanStats3c.csv.zip -d data/raw/
   ```

3. **Download Data Dictionary:**
   ```bash
   wget https://web.archive.org/web/20200606105339/https://resources.lendingclub.com/LCDataDictionary.xlsx -P data/raw/
   ```

## Data Characteristics

### Key Features Available
- **Loan Information:** Amount, term, interest rate, grade, sub-grade
- **Borrower Information:** Employment length, annual income, home ownership
- **Credit Information:** DTI ratio, delinquencies, credit inquiries, revolving balance
- **Payment Information:** Total payment, recoveries, collection fees (post-issuance)

### Important Notes
- **Missing FICO Scores:** The archived datasets do not contain FICO score information that was originally available
- **Data Quality:** Some records contain missing values that need to be handled during preprocessing
- **Time Period:** All loans were issued between January 2014 and December 2015
- **Loan Status:** Most loans are either "Fully Paid" or "Charged Off" (defaulted), with some still "Current"

## Variables Used in Analysis

### Available at Loan Application Time (for prediction)
- `loan_amnt`: Loan amount requested
- `term`: Loan term (36 or 60 months)
- `emp_length`: Employment length in years
- `home_ownership`: Home ownership status
- `annual_inc`: Annual income
- `verification_status`: Income verification status
- `purpose`: Loan purpose
- `dti`: Debt-to-income ratio
- `delinq_2yrs`: Number of delinquencies in past 2 years
- `inq_last_6mths`: Credit inquiries in last 6 months
- `open_acc`: Number of open credit lines
- `revol_bal`: Revolving credit balance
- `revol_util`: Revolving line utilization rate

### Available at Investment Time (from LendingClub)
- `grade`: LendingClub assigned grade (A-G)
- `sub_grade`: LendingClub assigned sub-grade
- `int_rate`: Interest rate

### Post-Issuance (for return calculation only)
- `loan_status`: Final status of the loan
- `total_pymnt`: Total payment received
- `recoveries`: Post-charge off gross recovery
- `collection_recovery_fee`: Post-charge off collection fee

## Data Preprocessing Steps

The notebooks handle the following preprocessing steps:

1. **Data Loading:** Skip header rows, handle CSV formatting issues
2. **Feature Selection:** Remove post-issuance features to prevent leakage
3. **Missing Value Treatment:** Imputation or removal based on feature importance
4. **Return Calculation:** Three methods implemented (M1_PESS, M2_OPT, M3)
5. **Feature Engineering:** Create derived features from raw data
6. **Encoding:** Convert categorical variables to numeric format
7. **Scaling:** Standardize features for certain models

## Data License

The LendingClub data was made publicly available for research and analysis purposes. As of October 2020, LendingClub ceased operations as a peer-to-peer lending platform and stopped releasing new data. The archived versions used in this project are available through the Internet Archive's Wayback Machine.

**Usage:** This data should be used for educational and research purposes only.

## Questions?

For questions about the data or preprocessing steps, please refer to:
1. The Jupyter notebooks for detailed implementation
2. The Cohen et al. (2018) paper in the `references/` directory
3. The LendingClub Data Dictionary

---
